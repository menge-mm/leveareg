export const observationDictionary = [
  {
    value: "J06",
    arDisplay: "عدوى الجهاز التنفسي العلوي",
    display: "Upper Respiratory Tract Infection",
  },
  { value: "I10", arDisplay: "ارتفاع ضغط الدم", display: "Hypertension" },
  {
    value: "F43",
    arDisplay: "اضطراب عاطفي معتدل إلى شديد",
    display: "Moderate to Severe Emotional Disorder",
  },
  { value: "Z00.0", arDisplay: "العناية بالأسنان", display: "Dental Care" },
  {
    value: "K20-K31",
    arDisplay: "مشكلة في الجهاز الهضمي",
    display: "Gastrointestinal Problem",
  },
  { value: "E11", arDisplay: "داء السكري", display: "Diabetes Mellitus" },
  { value: "G40", arDisplay: "الصرع / نوبات", display: "Epilepsy / Seizures" },
  { value: "Z41.2", arDisplay: "استخراجات الأسنان", display: "Dental Extractions" },
  { value: "N39.0", arDisplay: "عدوى المسالك البولية", display: "Urinary Tract Infection" },
  { value: "J45", arDisplay: "ربو قصبي", display: "Bronchial Asthma" },
  {
    value: "F20-F29",
    arDisplay: "الذهان (بما في ذلك اضطراب ثنائي القطب)",
    display: "Psychosis (Including Bipolar Disorder)",
  },
  { value: "D50", arDisplay: "فقر الدم", display: "Anemia" },
  { value: "E05", arDisplay: "فرط نشاط الغدة الدرقية", display: "Hyperthyroidism" },
  {
    value: "F70-F79",
    arDisplay: "الإعاقة الذهنية واضطرابات النمو",
    display: "Intellectual Disability and Developmental Disorders",
  },
  { value: "B76", arDisplay: "الديدان", display: "Worms" },
  { value: "E03", arDisplay: "قصور الغدة الدرقية", display: "Hypothyroidism" },
  {
    value: "F45",
    arDisplay: "شكاوى جسدية غير مفسرة طبياً",
    display: "Medically Unexplained Somatic Complaints",
  },
  { value: "A09", arDisplay: "إسهال", display: "Diarrhea" },
  {
    value: "I64",
    arDisplay: "حوادث الأوعية الدموية (السكتة الدماغية)",
    display: "Vascular Accidents (Stroke)",
  },
  { value: "F84.0", arDisplay: "التوحد", display: "Autism" },
  {
    value: "V01-V99",
    arDisplay: "حوادث السيارات، الدراجات النارية، إلخ.",
    display: "Vehicle Accidents, Motorcycles, etc.",
  },
  { value: "F90", arDisplay: "أطفال مفرطون في النشاط", display: "Hyperactive Children" },
  { value: "K29", arDisplay: "التهاب المعدة والأمعاء", display: "Gastritis and Enteritis" },
  { value: "Icterus", arDisplay: "متلازمة الصفراء الحادة", display: "Acute Jaundice Syndrome" },
  { value: "B01", arDisplay: "جدري الماء", display: "Chickenpox" },
  { value: "B86", arDisplay: "الجرب", display: "Scabies" },
  { value: "H10", arDisplay: "التهاب الملتحمة", display: "Conjunctivitis" },
  { value: "M06", arDisplay: "التهاب المفاصل الروماتويدي", display: "Rheumatoid Arthritis" },
  {
    value: "J18",
    arDisplay: "عدوى الجهاز التنفسي السفلي",
    display: "Lower Respiratory Tract Infection",
  },
  { value: "H65", arDisplay: "التهاب الأذن الوسطى", display: "Otitis Media" },
  { value: "H75", arDisplay: "التهاب الأذن الداخلية", display: "Inner Ear Inflammation" },
  { value: "A00", arDisplay: "الكوليرا", display: "Cholera" },
  {
    value: "A02",
    arDisplay: "عدوى السالمونيلا الأخرى",
    display: "Other Salmonella Infections",
  },
  { value: "A03", arDisplay: "الشيغيلات", display: "Shigellosis" },
  { value: "A06", arDisplay: "الأميبيات", display: "Amoebiasis" },
  {
    value: "B00",
    arDisplay: "عدوى فيروس الهربس [الهربس البسيط]",
    display: "Herpes Simplex Virus Infection",
  },
  {
    value: "B20",
    arDisplay: "مرض الإيدز الناتج عن الأمراض المعدية والطفيلية",
    display: "AIDS Due to Infectious and Parasitic Diseases",
  },
  {
    value: "B82",
    arDisplay: "طفيليات معوية غير محددة",
    display: "Unspecified Intestinal Parasites",
  },
  {
    value: "E46",
    arDisplay: "سوء التغذية البروتيني الطاقي",
    display: "Protein-Energy Malnutrition",
  },
  { value: "E86", arDisplay: "نقص الحجم", display: "Hypovolemia" },
  {
    value: "J13",
    arDisplay: "الالتهاب الرئوي بسبب المكورات الرئوية",
    display: "Pneumococcal Pneumonia",
  },
  {
    value: "J15",
    arDisplay: "التهاب الرئة البكتيري، غير مصنف في مكان آخر",
    display: "Bacterial Pneumonia, Not Elsewhere Classified",
  },
  { value: "K02", arDisplay: "تسوس الأسنان", display: "Dental Caries" },
  { value: "K28", arDisplay: "قرحة المعدة اللفائفية", display: "Duodenal Ulcer" },
  { value: "K30", arDisplay: "عسر الهضم", display: "Indigestion" },
  {
    value: "K52",
    arDisplay: "التهاب المعدة والقولون غير المعدي الأخر",
    display: "Noninfectious Gastritis and Colitis",
  },
  {
    value: "K59",
    arDisplay: "اضطرابات الأمعاء الوظيفية الأخرى",
    display: "Other Functional Intestinal Disorders",
  },
  { value: "L03", arDisplay: "التهاب النسيج الخلوي", display: "Cellulitis" },
  { value: "L30", arDisplay: "التهاب الجلد الآخر", display: "Other Dermatitis" },
  { value: "N39", arDisplay: "اضطرابات الجهاز البولي", display: "Urinary System Disorders" },
  {
    value: "O80",
    arDisplay: "لقاء للتسليم الكامل الأجل غير المعقد",
    display: "Full-Term Uncomplicated Delivery",
  },
  { value: "T14", arDisplay: "إصابة غير محددة", display: "Unspecified Injury" },
  {
    value: "Z59",
    arDisplay: "المشاكل المتعلقة بالسكن والظروف الاقتصادية",
    display: "Housing and Economic Problems",
  },
  {
    value: "Z60",
    arDisplay: "المشاكل المتعلقة بالبيئة الاجتماعية",
    display: "Social Environment Problems",
  },
  {
    value: "B02",
    arDisplay: "الحزام الناري [هربس زوستر]",
    display: "Shingles [Herpes Zoster]",
  },
  {
    value: "B18",
    arDisplay: "التهاب الكبد الفيروسي المزمن",
    display: "Chronic Viral Hepatitis",
  },
  { value: "C53", arDisplay: "الورم الخبيث لعنق الرحم", display: "Malignant Cervical Tumor" },
  { value: "D50", arDisplay: "فقر الدم بنقص الحديد", display: "Iron Deficiency Anemia" },
  { value: "E03", arDisplay: "قصور الغدة الدرقية الأخر", display: "Other Hypothyroidism" },
  { value: "E55", arDisplay: "نقص فيتامين د", display: "Vitamin D Deficiency" },
  { value: "F32", arDisplay: "اضطراب الاكتئاب الرئيسي", display: "Major Depressive Disorder" },
  { value: "G40", arDisplay: "الصرع", display: "Epilepsy" },
  { value: "H10", arDisplay: "التهاب الملتحمة", display: "Conjunctivitis" },
  { value: "I10", arDisplay: "ارتفاع ضغط الدم الأساسي", display: "Primary Hypertension" },
  { value: "I20", arDisplay: "الذبحة الصدرية", display: "Angina Pectoris" },
  {
    value: "I25",
    arDisplay: "مرض القلب الإقفاري المزمن",
    display: "Chronic Ischemic Heart Disease",
  },
  {
    value: "J06",
    arDisplay: "العدوى الحادة للجهاز التنفسي العلوي",
    display: "Acute Upper Respiratory Tract Infection",
  },
  { value: "L20", arDisplay: "التهاب الجلد التأتبي", display: "Atopic Dermatitis" },
  { value: "L50", arDisplay: "الشرى", display: "Urticaria" },
  {
    value: "M05",
    arDisplay: "التهاب المفاصل الروماتويدي مع عامل روماتويدي",
    display: "Rheumatoid Arthritis with Rheumatoid Factor",
  },
  { value: "M54", arDisplay: "ألم الظهر", display: "Back Pain" },
  {
    value: "N10",
    arDisplay: "التهاب الكلى الأنبوبي الكلوي الحاد",
    display: "Acute Tubulointerstitial Nephritis",
  },
  { value: "N17", arDisplay: "الفشل الكلوي الحاد", display: "Acute Renal Failure" },
  { value: "O15", arDisplay: "تسمم الحمل", display: "Eclampsia" },
  {
    value: "P03",
    arDisplay: "المولود الجديد المتأثر بمضاعفات المشيمة والحبل السري والأغشية",
    display: "Newborn Affected by Placenta, Cord, and Membrane Complications",
  },
  {
    value: "Q00",
    arDisplay: "عدم تكون الدماغ وتشوهات مماثلة",
    display: "Anencephaly and Similar Malformations",
  },
  { value: "R50", arDisplay: "الحمى", display: "Fever" },
  { value: "S05", arDisplay: "إصابة العين والمدار", display: "Injury of Eye and Orbit" },
  { value: "T74", arDisplay: "متلازمات سوء المعاملة", display: "Abuse Syndromes" },
  { value: "U07", arDisplay: "كوفيد-19", display: "COVID-19" },
  {
    value: "V01",
    arDisplay: "المشاة المصابون في تصادم مع دراجة هوائية",
    display: "Pedestrian Injured in Collision with Bicycle",
  },
  {
    value: "X00",
    arDisplay: "التعرض لحريق غير مسيطر عليه في مبنى أو هيكل",
    display: "Exposure to Uncontrolled Fire in Building or Structure",
  },
  {
    value: "Z62",
    arDisplay: "المشاكل المتعلقة بالتربية",
    display: "Problems Related to Upbringing",
  },
  {
    value: "Z71",
    arDisplay:
      "الأشخاص الذين يلجأون إلى الخدمات الصحية للتشاور والنصائح الطبية، غير مصنفة في مكان آخر",
    display:
      "People Seeking Health Services for Consultation and Medical Advice, Not Classified Elsewhere",
  },
  { value: "Z72", arDisplay: "المشاكل المتعلقة بأسلوب الحياة", display: "Lifestyle Problems" },
  {
    value: "Z74",
    arDisplay: "المشاكل المتعلقة بالاعتماد على الآلات والأجهزة المساعدة",
    display: "Problems Related to Dependence on Machines and Assistive Devices",
  },
  { value: "A20", arDisplay: "الطاعون", display: "Plague" },
  {
    value: "A28",
    arDisplay: "أمراض بكتيرية حيوانية المصدر أخرى، غير مصنفة في مكان آخر",
    display: "Other Zoonotic Bacterial Diseases, Not Elsewhere Classified",
  },
  { value: "B03", arDisplay: "جدري", display: "Smallpox" },
  { value: "B17", arDisplay: "التهاب الكبد سي الحاد", display: "Acute Hepatitis C" },
  { value: "C16", arDisplay: "الورم الخبيث في المعدة", display: "Malignant Gastric Tumor" },
  { value: "C91", arDisplay: "لوكيميا لمفاوية حادة", display: "Acute Lymphocytic Leukemia" },
  { value: "D73", arDisplay: "أمراض الطحال", display: "Diseases of the Spleen" },
  {
    value: "E02",
    arDisplay: "قصور الغدة الدرقية الناجم عن نقص اليود دون أعراض",
    display: "Asymptomatic Hypothyroidism Due to Iodine Deficiency",
  },
  {
    value: "E44",
    arDisplay: "سوء التغذية البروتيني من الدرجة المعتدلة والخفيفة",
    display: "Moderate and Mild Protein-Energy Malnutrition",
  },
  { value: "F24", arDisplay: "اضطراب نفسي مشترك", display: "Shared Psychotic Disorder" },
  { value: "G51", arDisplay: "شلل بيل", display: "Bell's Palsy" },
  {
    value: "H65",
    arDisplay: "التهاب الأذن الوسطى غير القيحي",
    display: "Non-Suppurative Otitis Media",
  },
  { value: "I42", arDisplay: "اعتلال عضلة القلب", display: "Cardiomyopathy" },
  { value: "J20", arDisplay: "القصبات الهوائية الحادة", display: "Acute Bronchitis" },
  {
    value: "K05",
    arDisplay: "التهاب اللثة وأمراض الفم",
    display: "Gingivitis and Oral Diseases",
  },
  {
    value: "K12",
    arDisplay: "التهاب الفم والآفات المرتبطة به",
    display: "Stomatitis and Related Lesions",
  },
  { value: "L03", arDisplay: "التهاب النسيج الخلوي", display: "Cellulitis" },
  { value: "M25", arDisplay: "ألم المفصل", display: "Joint Pain" },
  {
    value: "N41",
    arDisplay: "الأمراض الالتهابية للبروستات",
    display: "Inflammatory Diseases of the Prostate",
  },
  {
    value: "N76",
    arDisplay: "التهابات أخرى في المهبل والفرج",
    display: "Other Vaginal and Vulval Infections",
  },
  {
    value: "O14",
    arDisplay: "ارتفاع ضغط الدم الناتج عن الحمل",
    display: "Pregnancy-Induced Hypertension",
  },
  {
    value: "P01",
    arDisplay: "اضطرابات الوليد المرتبطة بقصر مدة الحمل وانخفاض وزن الولادة",
    display: "Neonatal Disorders Related to Short Gestation and Low Birth Weight",
  },
  { value: "R05", arDisplay: "السعال", display: "Cough" },
  { value: "R55", arDisplay: "الإغماء والانهيار", display: "Syncope and Collapse" },
  { value: "S06", arDisplay: "إصابة داخل الجمجمة", display: "Intracranial Injury" },
  {
    value: "T36",
    arDisplay: "التسمم بالمضادات الحيوية الجهازية",
    display: "Poisoning by Systemic Antibiotics",
  },
  {
    value: "Z73",
    arDisplay: "المشاكل المتعلقة بصعوبة إدارة الحياة",
    display: "Problems Related to Life Management Difficulty",
  },
];

// ====================  Observation Recorded in our Form  ====================
const observation = {
  resourceType: "Observation",
  patientId: "",
  code: "",
  status: "",
  effectiveDateTime: "",
  valueQuantity: "",
};

export type Observation = typeof observation;

export const formatObservationResource = (observation: Observation) => ({
  resourceType: "Observation",
  status: observation.status,
  code: {
    coding: [
      {
        system: "http://loinc.org",
        code: observation.code,
        display: observationDictionary.find((c) => c.value === observation.code)?.display, //dictionary
      },
    ],
  },
  subject: {
    reference: `Patient/${observation.patientId}`,
  },

  effectiveDateTime: observation.effectiveDateTime ? observation.effectiveDateTime : undefined,
  issued: new Date().toISOString(),
  valueQuantity: observation.valueQuantity && {
    value: observation.valueQuantity,
    unit: "mm[Hg]",
    system: "http://unitsofmeasure.org",
    code: "mm[Hg]",
  },
});

// ===================== Observation Resource Format ========================
/* 
{doco
  "resourceType" : "Observation",
  // from Resource: id, meta, implicitRules, and language
  // from DomainResource: text, contained, extension, and modifierExtension
  "identifier" : [{ Identifier }], // Business Identifier for observation
  // instantiates[x]: Instantiates FHIR ObservationDefinition. One of these 2:
  "instantiatesCanonical" : "<canonical(ObservationDefinition)>",
  "instantiatesReference" : { Reference(ObservationDefinition) },
  "basedOn" : [{ Reference(CarePlan|DeviceRequest|ImmunizationRecommendation|
   MedicationRequest|NutritionOrder|ServiceRequest) }], // Fulfills plan, proposal or order
  "triggeredBy" : [{ // Triggering observation(s)
    "observation" : { Reference(Observation) }, // R!  Triggering observation
    "type" : "<code>", // R!  reflex | repeat | re-run
    "reason" : "<string>" // Reason that the observation was triggered
  }],
  "partOf" : [{ Reference(GenomicStudy|ImagingStudy|Immunization|
   MedicationAdministration|MedicationDispense|MedicationStatement|Procedure) }], // Part of referenced event
  "status" : "<code>", // R!  registered | preliminary | final | amended +
  "category" : [{ CodeableConcept }], // Classification of  type of observation
  "code" : { CodeableConcept }, // I R!  Type of observation (code / type)
  "subject" : { Reference(BiologicallyDerivedProduct|Device|Group|Location|
   Medication|NutritionProduct|Organization|Patient|Practitioner|Procedure|
   Substance) }, // Who and/or what the observation is about
  "focus" : [{ Reference(Any) }], // What the observation is about, when it is not about the subject of record
  "encounter" : { Reference(Encounter) }, // Healthcare event during which this observation is made
  // effective[x]: Clinically relevant time/time-period for observation. One of these 4:
  "effectiveDateTime" : "<dateTime>",
  "effectivePeriod" : { Period },
  "effectiveTiming" : { Timing },
  "effectiveInstant" : "<instant>",
  "issued" : "<instant>", // Date/Time this version was made available
  "performer" : [{ Reference(CareTeam|Organization|Patient|Practitioner|
   PractitionerRole|RelatedPerson) }], // Who is responsible for the observation
  // value[x]: Actual result. One of these 13:
  "valueQuantity" : { Quantity },
  "valueCodeableConcept" : { CodeableConcept },
  "valueString" : "<string>",
  "valueBoolean" : <boolean>,
  "valueInteger" : <integer>,
  "valueRange" : { Range },
  "valueRatio" : { Ratio },
  "valueSampledData" : { SampledData },
  "valueTime" : "<time>",
  "valueDateTime" : "<dateTime>",
  "valuePeriod" : { Period },
  "valueAttachment" : { Attachment },
  "valueReference" : { Reference(MolecularSequence) },
  "dataAbsentReason" : { CodeableConcept }, // I Why the result value is missing
  "interpretation" : [{ CodeableConcept }], // High, low, normal, etc
  "note" : [{ Annotation }], // Comments about the observation
  "bodySite" : { CodeableConcept }, // I Observed body part
  "bodyStructure" : { Reference(BodyStructure) }, // I Observed body structure
  "method" : { CodeableConcept }, // How it was done
  "specimen" : { Reference(Group|Specimen) }, // Specimen used for this observation
  "device" : { Reference(Device|DeviceMetric) }, // A reference to the device that generates the measurements or the device settings for the device
  "referenceRange" : [{ // Provides guide for interpretation
    "low" : { Quantity(SimpleQuantity) }, // I Low Range, if relevant
    "high" : { Quantity(SimpleQuantity) }, // I High Range, if relevant
    "normalValue" : { CodeableConcept }, // Normal value, if relevant
    "type" : { CodeableConcept }, // Reference range qualifier
    "appliesTo" : [{ CodeableConcept }], // Reference range population
    "age" : { Range }, // Applicable age range, if relevant
    "text" : "<markdown>" // I Text based reference range in an observation
  }],
  "hasMember" : [{ Reference(MolecularSequence|Observation|
   QuestionnaireResponse) }], // Related resource that belongs to the Observation group
  "derivedFrom" : [{ Reference(DocumentReference|GenomicStudy|ImagingSelection|
   ImagingStudy|MolecularSequence|Observation|QuestionnaireResponse) }], // Related resource from which the observation is made
  "component" : [{ // I Component results
    "code" : { CodeableConcept }, // I R!  Type of component observation (code / type)
    // value[x]: Actual component result. One of these 13:
    "valueQuantity" : { Quantity },
    "valueCodeableConcept" : { CodeableConcept },
    "valueString" : "<string>",
    "valueBoolean" : <boolean>,
    "valueInteger" : <integer>,
    "valueRange" : { Range },
    "valueRatio" : { Ratio },
    "valueSampledData" : { SampledData },
    "valueTime" : "<time>",
    "valueDateTime" : "<dateTime>",
    "valuePeriod" : { Period },
    "valueAttachment" : { Attachment },
    "valueReference" : { Reference(MolecularSequence) },
    "dataAbsentReason" : { CodeableConcept }, // Why the component result value is missing
    "interpretation" : [{ CodeableConcept }], // High, low, normal, etc
    "referenceRange" : [{ Content as for Observation.referenceRange }] // Provides guide for interpretation of component result value
  }]
}
*/
